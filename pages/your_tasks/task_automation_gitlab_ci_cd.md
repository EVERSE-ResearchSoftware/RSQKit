---
title: Task automation using GitLab CI/CD
description: How to use and set up GitLab CI/CD for your GitLab repository
contributors: ["Tom Fran√ßois"]
page_id: task_automation_gitlab_ci_cd
related_pages: 
  your_tasks: [ci_cd, task_automation_github_actions]
quality_indicators: [software_has_ci-tests]
keywords: ["ci cd", "ci/cd", "ci", "cd", "task automation", "gitlab ci/cd"]
training:
  - name: "EVERSE TeSS"
    registry: TeSS
    url: "https://everse-training.app.cern.ch"
---

## What is GitLab CI/CD?

### Description

{% tool "gitlab-ci-cd" %} is the tool used in GitLab hosted projects to run CI/CD pipelines. It is the equivalent of [Github Actions][task_automation_github_actions] for GitHub-hosted repositories.
If you are interested in migrating your {% tool "github-actions" %} "actions" into GitLab CI/CD, you can follow the [GitLab-dedicated article on Github Actions migration](https://docs.gitlab.com/ci/migration/github_actions/).

Why would you set up a GitLab CI/CD pipeline? It can help you automate:

- running unit tests
- building your application
- building a Docker container for your application
- deploying your software's documentation
- deploying and generating a package for your software others can install and reuse
- checking your software's dependencies

### Considerations

To create and run your first pipeline:

- For self-hosted GitLab instances - ensure you have runners available to run your jobs. If your repository is hosted on [gitlab.com](https://gitlab.com), you do not need to do anything as GitLab provides instance runners for you.
- Create a `.gitlab-ci.yml` file at the root of your repository. This file, written with [YAML syntax][yaml], defines the pipelines and jobs you want to run.
- Commit and push this file to your repository.
- Go to the **Pipelines** tab in your GitLab repository to see the pipeline run. This dashboard provide you the list of the pipelines run for your project, with the workflow of the different stages. You can access the different jobs by clicking on the **Stages** elements to have more information about their respective status.

![Gitlab CI pipeline dashboard](../../images/gitlab_ci_pipeline.png) *Using pre-builts components from the Gitlab CI/CD Catalog*

The [Gitlab CI/CD Catalog](https://gitlab.com/explore/catalog) provides a list of components to use in your own pipeline.
Most of these provides a README describing how you can use them and how to configure them for your own purpose.


### Solutions

You can follow [GitLab CI/CD Quick Start tutorial][gitlab-ci-quick-start-tutorial] and the [more advanced tutorial][gitlab-ci-advanced-tutorial].

GitLab also provides some [typical examples][gitlab-ci_examples] based on your programming language and type of project.

Example of `.gitlab-ci.yml`

```yml
stages:
    - build
    - deploy

build-job-name1:
    stage: build
    script:
        - echo "Starting job 1"

build-job-name2:
    stage: build
    script:
        - echo "Starting job 2"

deploy-job-name:
    stage: deploy
    script:
        - echo "Deploy"
```

This will create a pipeline with two stages `build` and `deploy`. The stage `build` is composed of two independent jobs that will be run in parallel if you have enough runners. The `deploy` stage will be run after `build` stage is finished. This is defined by the `stages:` list. By default, if a job fails, the other jobs in that stage are run but not the one in the following stages.

In the next part of the example, a new job, named `build-job-name1`, is defined. The mandatory fields are: `stage` and `script`. The first one is used to associate this job to a stage defined in the `stages`key. `script` is defining the script to be run by this job. It can be composed by multiple commands separated as a list.

The rest of the file defines two other jobs `build-job-name2` and `deploy-job-name2`. The stage named `build` has 2 jobs that are run in parallel. If you need the output of one job to run another one, you should put them in separate stages. In our example case, the job `deploy_job-name` could use artefacts generated by jobs in the stage `build`.

*Note:* the example above is a dummy example that just presents the structure of the `gitlab-ci.yml` file. In practice, it only prints some messages to simulate scripts.

## Training materials
- [HEP Software Foundation training center on Continuous Integration / Continuous Development (CI/CD) course](https://hsf-training.github.io/hsf-training-cicd/)
- [GitLab and GitLab CI/CD course](https://gitlab.in2p3.fr/informatique-des-deux-infinis/pheniics/gitlab-and-gitlab-ci-cd)


## References

- [Official GitLab CI/CD documentation](https://docs.gitlab.com/ee/ci/)
- [GitLab CI/CD examples](https://docs.gitlab.com/ee/ci/examples/) - list of commonly used `.gitlab-ci.yml` files
- [GitLab CI/CD syntax](https://docs.gitlab.com/ee/ci/yaml/)


[gitlab-ci-quick-start-tutorial]: [https://docs.gitlab.com/ee/ci/quick_start/](https://docs.gitlab.com/ee/ci/quick_start/)
[gitlab-ci-advanced-tutorial]: [https://docs.gitlab.com/ee/ci/quick_start/tutorial.html](https://docs.gitlab.com/ee/ci/quick_start/tutorial.html)
[gitlab-ci_examples]: [https://docs.gitlab.com/ee/ci/examples/](https://docs.gitlab.com/ee/ci/examples/)
[task_automation_github_actions]: ./task_automation_github_actions
[yaml]: https://yaml.org/